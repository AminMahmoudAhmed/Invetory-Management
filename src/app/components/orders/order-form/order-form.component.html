<div class="flex justify-center">
  <form
    [formGroup]="orderForm"
    style="width: 900px"
    class="shadow border bg-white pt-2 p-8"
  >

  @if (order) {
    <h1 class="text-2xl font-semibold p-8">Update Order</h1>
    
  } @else {
    <h1 class="text-2xl font-semibold p-8">Add Order</h1>
    
  }
    <div class="flex flex-wrap">
      <div class="w-full">
        <mat-label>OrderNo</mat-label>
        <mat-form-field class="w-full" appearance="outline">
          <input matInput type="text" formControlName="orderNo"/>
        </mat-form-field>
      </div>
      <div class="w-full">
        <mat-label>Product</mat-label>
        <mat-form-field class="w-full" appearance="outline">
         <mat-select formControlName="productId"(valueChange)="productSelected($event)">
            @for (item of products ; track $index) { 

              <mat-option [value]="item.id">{{item.name}}(avaiable quantity : {{item.availableQuantity}} )</mat-option>
            }
         </mat-select>
        </mat-form-field>
      </div>
      <div class="w-4/12 pr-3">
        <mat-label>Quantity</mat-label>
        <mat-form-field class="w-full" appearance="outline">
          <input matInput type="text" formControlName="quantity"/>
        </mat-form-field>
      </div>
      <div class="w-4/12 pr-3">
        <mat-label>Sale Price</mat-label>
        <mat-form-field class="w-full" appearance="outline">
          <input matInput type="text" formControlName="salePrice"/>
        </mat-form-field>
      </div>
      <div class="w-4/12 pr-3">
        <mat-label>Discount</mat-label>
        <mat-form-field class="w-full" appearance="outline">
          <input matInput type="text" formControlName="discount"/>
        </mat-form-field>
      </div>
      <div class="w-full">
        <mat-label>Total Amount</mat-label>
        <mat-form-field class="w-full" appearance="outline">
          <input matInput type="text" formControlName="totalAmount"/>
        </mat-form-field>
      </div>
    </div>


  @if (order) {
   <div class="mt-2 text-center">
      <button
        (click)="updateOrder()"
        mat-raised-button
        color="primary"
        class="!bg-blue-700 !text-white"
      >
        Update Order 
      </button>

      
    </div>

} @else {
   <div class="mt-2 text-center">
      <button
       (click)="addOrder()"
        mat-raised-button
        color="primary"
        class="!bg-blue-700 !text-white"
      >
        Add Order 
      </button>

      
    </div>

} 



  </form>
</div>